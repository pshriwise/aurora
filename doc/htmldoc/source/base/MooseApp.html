<!DOCTYPE html><head><meta charset="UTF-8"><title>MooseApp | Aurora App</title><link href="../../contrib/materialize/materialize.min.css" type="text/css" rel="stylesheet" media="screen,projection"></link><link href="../../contrib/prism/prism.min.css" type="text/css" rel="stylesheet"></link><link href="../../css/moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/devel_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/alert_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/content_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/sqa_moose.css" type="text/css" rel="stylesheet"></link><link href="../../css/civet_moose.css" type="text/css" rel="stylesheet"></link><script type="text/javascript" src="../../contrib/jquery/jquery.min.js"></script></head><body><div class="page-wrap"><header><nav><div class="nav-wrapper container"><a href="https://aurora-multiphysics.github.io/aurora/" class="left moose-logo hide-on-med-and-down">Aurora App</a><a href="https://github.com/aurora-multiphysics/aurora" class="right"><img src="../../media/framework/github-logo.png" class="github-mark"></img><img src="../../media/framework/github-mark.png" class="github-logo"></img></a><ul class="right hide-on-med-and-down"></ul><a href="#" class="sidenav-trigger" data-target="4f5b68e0-0d4e-4b83-9c65-f89397783ce8"><i class="material-icons">menu</i></a><ul class="sidenav" id="4f5b68e0-0d4e-4b83-9c65-f89397783ce8"></ul><a href="#moose-search" class="modal-trigger"><i class="material-icons">search</i></a></div></nav><div class="modal modal-fixed-footer moose-search-modal" id="moose-search"><div class="modal-content container moose-search-modal-content"><div class="row"><div class="col l12"><div class="input-field"><input type_="text" onkeyup="mooseSearch()" placeholder="https://aurora-multiphysics.github.io/aurora/" id="moose-search-box"></input></div></div><div><div class="col s12" id="moose-search-results"></div></div></div></div><div class="modal-footer"><a href="#!" class="modal-close btn-flat">Close</a></div></div></header><main class="main"><div class="container"><div class="row"><div class="col hide-on-med-and-down l12"><nav class="breadcrumb-nav"><div class="nav-wrapper"><a href=".." class="breadcrumb">source</a><span class="breadcrumb">base</span><a href="#" class="breadcrumb">MooseApp</a></div></nav></div></div><div class="row"><div class="moose-content col s12 m12 l10"><section id="b025d84b-40e1-467d-a995-09ee0b78cdc7" data-section-level="1" data-section-text="MooseApp"><h1 id="mooseapp">MooseApp</h1><p>The <code>MooseApp</code> object is the base class for <span class="moose-error">MOOSE</span> based applications and serves as the entry point for running all aspects of a simulation.</p><section class="scrollspy" id="6bff28aa-d0d6-427e-a1d9-be78fb8eb7f2" data-section-level="2" data-section-text="Nonzero reallocation behavior"><h2 id="nonzero-reallocation-behavior">Nonzero reallocation behavior</h2><p>The MOOSE framework and libMesh work together to supply a sparsity pattern to PETSc which informs how much memory is allocated for the system matrix. If the sparsity pattern is too small, then PETSc will be forced to allocate new memory during matrix assembly if user code tries to add/set a matrix entry that wasn&#x27;t preallocated by the sparsity pattern. This allocation at matrix assembly time can significantly slow down a simulation. MOOSE and libMesh are known to generate accurate sparsity patterns in most cases; however, for complex multi-body problems like mechanical and thermal contact, the sparsity pattern may be incorrect. Because of this, by default MOOSE does not error if PETSc is forced to do new nonzero allocations during matrix assembly. However, if an application developer expects their physics to have accurate sparsity patterns, they may override the default MOOSE behavior and error on new nonzero allocations. This can give the application developer peace-of-mind that their applications will not produce quiet nonzero allocations at run-time.</p><p>Overriding the default nonzero allocation behavior can be accomplished by overriding the virtual function <code>bool
MooseApp::errorOnJacobianNonzeroReallocation() const</code>. The <code>MooseApp</code> default is <code>false</code>, although this will hopefully be changed in the not-too-distant future. Note that the application level code setting can always be overridden at the input-file level by specifying a value for <code>Problem/error_on_jacobian_nonzero_reallocation</code>. </p></section></section></div><div class="col hide-on-med-and-down l2"><div class="toc-wrapper pin-top"><ul class="section table-of-contents"><li><a href="#6bff28aa-d0d6-427e-a1d9-be78fb8eb7f2" class="tooltipped" data-position="left" data-tooltip="Nonzero reallocation behavior">Nonzero reallocation behavior</a></li></ul></div></div></div></div></main></div></body><script type="text/javascript" src="../../contrib/materialize/materialize.min.js"></script><script type="text/javascript" src="../../contrib/clipboard/clipboard.min.js"></script><script type="text/javascript" src="../../contrib/prism/prism.min.js"></script><script type="text/javascript" src="../../js/init.js"></script><script type="text/javascript" src="../../js/navigation.js"></script><script type="text/javascript" src="../../contrib/fuse/fuse.min.js"></script><script type="text/javascript" src="../../js/search_index.js"></script><script type="text/javascript" src="../../js/sqa_moose.js"></script>